<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>2026 å°ç£è‡ªè¡Œè»Šè³½äº‹è¡Œäº‹æ›†</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .stats {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .stat-card {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }

        .stat-number {
            font-size: 2em;
            font-weight: bold;
        }

        .stat-label {
            font-size: 0.9em;
            opacity: 0.8;
            margin-top: 5px;
        }

        .filters {
            display: flex;
            gap: 10px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .filter-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 25px;
            background: rgba(255, 255, 255, 0.9);
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 0.9em;
        }

        .filter-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .filter-btn.active {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .month-section {
            margin-bottom: 40px;
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .month-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            border-radius: 15px 15px 0 0;
            font-size: 1.8em;
            font-weight: bold;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 5px 20px rgba(0, 0, 0, 0.2);
        }

        .event-count {
            font-size: 0.6em;
            background: rgba(255, 255, 255, 0.2);
            padding: 5px 15px;
            border-radius: 20px;
        }

        .events-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
            padding: 20px;
            background: white;
            border-radius: 0 0 15px 15px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .event-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 15px;
            padding: 20px;
            transition: all 0.3s;
            cursor: pointer;
            border-left: 5px solid #667eea;
            position: relative;
            overflow: hidden;
        }

        .event-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .event-card::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 100px;
            height: 100px;
            background: radial-gradient(circle, rgba(102, 126, 234, 0.1) 0%, transparent 70%);
            border-radius: 50%;
            transform: translate(30%, -30%);
        }

        .event-card.ultra { border-left-color: #e74c3c; }
        .event-card.climbing { border-left-color: #f39c12; }
        .event-card.touring { border-left-color: #3498db; }
        .event-card.race { border-left-color: #2ecc71; }
        .event-card.challenge { border-left-color: #9b59b6; }

        .event-date {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
            font-weight: 600;
            color: #2c3e50;
        }

        .date-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 5px 12px;
            border-radius: 20px;
            font-size: 0.9em;
        }

        .event-title {
            font-size: 1.2em;
            font-weight: bold;
            color: #2c3e50;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .event-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 12px;
        }

        .meta-tag {
            background: rgba(102, 126, 234, 0.1);
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            color: #667eea;
            font-weight: 600;
        }

        .event-status {
            margin-top: 10px;
            padding: 8px 12px;
            border-radius: 10px;
            font-size: 0.9em;
            font-weight: 600;
            text-align: center;
        }

        .status-open {
            background: #d4edda;
            color: #155724;
        }

        .status-pending {
            background: #fff3cd;
            color: #856404;
        }

        .status-closed {
            background: #f8d7da;
            color: #721c24;
        }

        .event-link {
            margin-top: 12px;
            padding: 10px 15px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-decoration: none;
            border-radius: 10px;
            display: inline-block;
            font-weight: 600;
            font-size: 0.9em;
            transition: all 0.3s;
        }

        .event-link:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .event-link.disabled {
            background: #95a5a6;
            cursor: not-allowed;
            pointer-events: none;
        }

        .legend {
            display: flex;
            justify-content: center;
            gap: 20px;
            flex-wrap: wrap;
            margin: 30px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.9);
            border-radius: 15px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 0.9em;
            font-weight: 600;
        }

        .legend-color {
            width: 20px;
            height: 20px;
            border-radius: 5px;
        }

        @media (max-width: 768px) {
            .header h1 { font-size: 2em; }
            .events-grid { grid-template-columns: 1fr; }
            .stats { gap: 15px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš´ 2026 å°ç£è‡ªè¡Œè»Šè³½äº‹è¡Œäº‹æ›†</h1>
            <p>Taiwan Cycling Events Calendar 2026</p>
            <div class="stats">
                <div class="stat-card">
                    <div class="stat-number" id="totalEvents">-</div>
                    <div class="stat-label">ç¸½è³½äº‹æ•¸</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="openEvents">-</div>
                    <div class="stat-label">å ±åä¸­</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="upcomingEvents">-</div>
                    <div class="stat-label">å¾…é–‹æ”¾</div>
                </div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: #e74c3c;"></div>
                <span>è¶…é•·è·é›¢</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #f39c12;"></div>
                <span>ç™»å±±æŒ‘æˆ°</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #3498db;"></div>
                <span>ç’°å³¶ç³»åˆ—</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #2ecc71;"></div>
                <span>ç«¶è³½é¡</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #9b59b6;"></div>
                <span>æŒ‘æˆ°è³½</span>
            </div>
        </div>

        <div class="filters">
            <button class="filter-btn active" onclick="filterEvents('all')">å…¨éƒ¨è³½äº‹</button>
            <button class="filter-btn" onclick="filterEvents('ultra')">è¶…é•·è·é›¢</button>
            <button class="filter-btn" onclick="filterEvents('climbing')">ç™»å±±æŒ‘æˆ°</button>
            <button class="filter-btn" onclick="filterEvents('touring')">ç’°å³¶ç³»åˆ—</button>
            <button class="filter-btn" onclick="filterEvents('race')">ç«¶è³½é¡</button>
            <button class="filter-btn" onclick="filterEvents('challenge')">æŒ‘æˆ°è³½</button>
        </div>

        <div id="calendar"></div>
    </div>

    <script>
        // å…§åµŒè³½äº‹è³‡æ–™
        const eventsData = [{"row_number": 2, "æ—¥æœŸ": "2026/1/11", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "2026 NeverStopæ°¸ä¸æ”¾æ£„ç³»åˆ—æ´»å‹•æŒ‘æˆ°ã€ç¶“å…¸ã€‘é™½é‡‘På­—å±±é“", "ä¸»è¾¦å–®ä½": "è‡ºåŒ—å¸‚é«”è‚²ç¸½æœƒè‡ªç”±è»Šå”æœƒ", "è³½äº‹é€£çµ": "https://www.bao-ming.com/eb/content/6752#31779", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 3, "æ—¥æœŸ": "2026/1/17", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "ç¬¬4å±† 2026 TWB æ±ä¸‰å¡”", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "", "èªªæ˜": "å ±åæˆªæ­¢", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 4, "æ—¥æœŸ": "2026/1/17", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "ç¬¬4å±† 2026 TWBæ±é›™å¡”", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "", "èªªæ˜": "å ±åæˆªæ­¢", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 5, "æ—¥æœŸ": "2026/2/1", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "2026æ¢…å±±36å½è‡ªè¡Œè»ŠæŒ‘æˆ°è³½", "ä¸»è¾¦å–®ä½": "è¯ç¶²åœ‹éš›è³‡è¨Šè‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "https://www.eventpal.com.tw/FOAS/actions/ActivityIndex.action?showTabContent&seqno=82f43cbf-f3ce-47e5-81da-8bfaa03cbb59", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 6, "æ—¥æœŸ": "2026/2/28", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "2026ç¬¬ä¸ƒå±†æ±ä¸‰(é›™)å¡”", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 7, "æ—¥æœŸ": "2026/3/1", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "ç¬¬2å±† 2026 å½°åŒ–é¨ç¦", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "https://twbike.org/activity/?act=data&amp;id=394&amp;ptype=0", "èªªæ˜": "å ±åä¸­", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 8, "æ—¥æœŸ": "2026/3/1", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "å±æ±å››é‡æºªæº«æ³‰è‡ªè¡Œè»ŠæŒ‘æˆ°è³½", "ä¸»è¾¦å–®ä½": "å±æ±ç¸£æ”¿åºœ", "è³½äº‹é€£çµ": "https://www.bao-ming.com/eb/content/6749#31787", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 9, "æ—¥æœŸ": "2026/3/7", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "é™½æ˜å±±ç‹ å…¬è·¯è³½ãƒ»åœ˜éšŠè¨ˆæ™‚è³½", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=344", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 10, "æ—¥æœŸ": "2026/3/7", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "2026 NeverStop åŒ—é«˜æŒ‘æˆ°è¡Œ", "ä¸»è¾¦å–®ä½": "è‡ºç£è‡ªç”±è»Šé‹å‹•å”æœƒ", "è³½äº‹é€£çµ": "https://bao-ming.com/eb/content/6810#32068", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 11, "æ—¥æœŸ": "2026/3/15", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "ç¬¬16å±†é›™ä¸»å ´è¼ªéœ¸è¥¿æ¿±æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "https://taiwanbike.org/index.php/679-2026-0315-0", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 12, "æ—¥æœŸ": "2026/3/15", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "2026è¼ªè½‰å°ç£ç™¾Kå–®è»ŠæŒ‘æˆ°è³½-è‹—æ —ç«™", "ä¸»è¾¦å–®ä½": "å…¨çµ±é‹å‹•ç”¨å“è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "https://www.ctrun.com.tw/Activity?EventMain_ID=279", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 13, "æ—¥æœŸ": "2026/3/21", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "é›ªå·´é™½æ˜å±±ç«™", "ä¸»è¾¦å–®ä½": "é›ªå·´é‹å‹•è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "https://bao-ming.com/eb/content/6853#32308", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 14, "æ—¥æœŸ": "2026/3/29", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "2026è¼ªè½‰å°ç£ç™¾Kå–®è»ŠæŒ‘æˆ°è³½-å°å—ç«™", "ä¸»è¾¦å–®ä½": "å…¨çµ±é‹å‹•ç”¨å“è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "https://www.ctrun.com.tw/Activity?EventMain_ID=278", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 15, "æ—¥æœŸ": "2026/4/10", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç’°èŠ±æ±åœ‹éš›è‡ªè¡Œè»Šç³»åˆ—æ´»å‹•", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=347", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 16, "æ—¥æœŸ": "2026/4/10", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç’°èŠ±æ±-åœ˜éšŠè¨ˆæ™‚è³½&å…¬è·¯è³½", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=348", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 17, "æ—¥æœŸ": "2026/4/10", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç’°èŠ±æ±365æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=349", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 18, "æ—¥æœŸ": "2026/4/10", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç’°èŠ±æ±200æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=350", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 19, "æ—¥æœŸ": "2026/4/10", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç’°èŠ±æ±100æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=352", "èªªæ˜": "å¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 20, "æ—¥æœŸ": "2026/5/9", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "å¤ªå¹³å±±ç‹ å…¬è·¯è³½&åœ˜éšŠè¨ˆæ™‚è³½", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šé¨å£«å”æœƒ", "è³½äº‹é€£çµ": "https://www.cyclist.org.tw/event_txt.asp?pno=346", "èªªæ˜": "King of Taipingshanï¼Œå¾…é–‹æ”¾å ±å", "å®˜ç¶²é€£çµ": "https://www.cyclist.org.tw", "FBé€£çµ": ""}, {"row_number": 21, "æ—¥æœŸ": "2026/5/24", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "2026 NeverStopæ°¸ä¸æ”¾æ£„-å¡”å¡”åŠ æ¢ç´¢æ–°ä¸­æ©«", "ä¸»è¾¦å–®ä½": "è‡ºç£è‡ªç”±è»Šé‹å‹•å”æœƒ", "è³½äº‹é€£çµ": "https://bao-ming.com/eb/content/6830#32194", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 22, "æ—¥æœŸ": "2026/5/30", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "é›ªå·´å¤ªå¹³å±±ç«™", "ä¸»è¾¦å–®ä½": "é›ªå·´é‹å‹•è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 23, "æ—¥æœŸ": "2026/6/7", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "ç´«å—å®®ä¸€é¨ä¾†ç™¼è²¡ç’°ç¸£è‡ªè¡Œè»Š 99.9K", "ä¸»è¾¦å–®ä½": "è‡ºç£è‡ªç”±è»Šé‹å‹•å”æœƒ", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 24, "æ—¥æœŸ": "2026/6/18", "æ˜ŸæœŸ": "é€±å››", "è³½äº‹åç¨±": "2026ç¬¬ä¸‰å±†ç˜‹ç³»åˆ—ç’°å°è³½", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 25, "æ—¥æœŸ": "2026/6/27", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "æ°¸ä¸æ”¾æ£„-æŒ‘æˆ°å·”å³°æ­¦å¶º", "ä¸»è¾¦å–®ä½": "è‡ºç£è‡ªç”±è»Šé‹å‹•å”æœƒ", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 26, "æ—¥æœŸ": "2026/6/28", "æ˜ŸæœŸ": "é€±æ—¥", "è³½äº‹åç¨±": "ç¬¬15å±†-æŒ‘æˆ°å°ç£å±‹è„Š-è¶…è¶Šå·”å³° ä¸­å¤®å±±è„ˆæ¥µè‡´æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "https://taiwanbike.org/index.php/696-2026-0628-1", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 27, "æ—¥æœŸ": "2026/8/24", "æ˜ŸæœŸ": "é€±ä¸€", "è³½äº‹åç¨±": "é›ªå·´å¤§é›ªå±±ç«™", "ä¸»è¾¦å–®ä½": "é›ªå·´é‹å‹•è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 28, "æ—¥æœŸ": "2026/9/19", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "ç¬¬1å±† 2026 TWB é«˜åŒ—360", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "https://twbike.org/activity/?act=data&amp;id=403&amp;ptype=0", "èªªæ˜": "å°šæœªå ±å", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 29, "æ—¥æœŸ": "2026/10/9", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "2026 ç¬¬ä¸ƒå±†ä¸­é›™å¡”", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 30, "æ—¥æœŸ": "2026/11/6", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç¬¬1å±† 2026 TWB å››æ¥µ620", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "https://twbike.org/activity/?ptype=0", "èªªæ˜": "å ±åä¸­", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 31, "æ—¥æœŸ": "2026/11/6", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç¬¬13å±† 2026 TWB é›™å¡”520", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "https://twbike.org/activity/?act=data&amp;id=397&amp;ptype=0", "èªªæ˜": "å ±åä¸­", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 32, "æ—¥æœŸ": "2026/11/6", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "ç¬¬13å±† 2026 TWB åŒ—é«˜360", "ä¸»è¾¦å–®ä½": "TWBå°ç£è‡ªè¡Œè»Šå”æœƒ", "è³½äº‹é€£çµ": "https://twbike.org/activity/?act=data&amp;id=399&amp;ptype=0", "èªªæ˜": "å ±åä¸­", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 33, "æ—¥æœŸ": "2026/11/13", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "TBA å››æ¥µé»-è¶…ç´šèªè­‰", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "https://taiwanbike.org/index.php/692-20261114620-1", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 34, "æ—¥æœŸ": "2026/11/13", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "TBA åŒ—é«˜360æ¥µé™èªè­‰", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "https://taiwanbike.org/index.php/684-20261113360-1", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 35, "æ—¥æœŸ": "2026/11/14", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "TBA é›™å¡”æ¥µé™èªè­‰", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "https://taiwanbike.org/index.php/688-20261114520-1", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 36, "æ—¥æœŸ": "2026/11/20", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "2026 ç˜‹ç³»åˆ—åŒ—é«˜æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 37, "æ—¥æœŸ": "2026/11/21", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "2026 ç˜‹ç³»åˆ—ä¸‰æ¥µé»æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 38, "æ—¥æœŸ": "2026/11/21", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "2026 ç˜‹ç³»åˆ—å››æ¥µé»æŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ç˜‹ç³»åˆ—", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 39, "æ—¥æœŸ": "2026/12/12", "æ˜ŸæœŸ": "é€±å…­", "è³½äº‹åç¨±": "é›ªå·´é˜¿é‡Œå±±ç«™", "ä¸»è¾¦å–®ä½": "é›ªå·´é‹å‹•è‚¡ä»½æœ‰é™å…¬å¸", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 40, "æ—¥æœŸ": "å¾…å…¬å¸ƒ", "æ˜ŸæœŸ": "å¾…å…¬å¸ƒ", "è³½äº‹åç¨±": "ç’°å¤§å°åŒ—è‡ªè¡Œè»ŠæŒ‘æˆ°", "ä¸»è¾¦å–®ä½": "ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ(TBA)", "è³½äº‹é€£çµ": "", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 41, "æ—¥æœŸ": "3/21", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "2026è¬çœ¾é¨BIKE", "ä¸»è¾¦å–®ä½": "", "è³½äº‹é€£çµ": "https://signup.lohasnet.tw/signup/4172", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}, {"row_number": 42, "æ—¥æœŸ": "4/11", "æ˜ŸæœŸ": "é€±äº”", "è³½äº‹åç¨±": "2026(ç¬¬16å±†) å…†è±éŠ€è¡Œâ€§ç¾åˆ©é”å½°åŒ–ç¶“å…¸ç™¾K", "ä¸»è¾¦å–®ä½": "ç¾åˆ©é”", "è³½äº‹é€£çµ": "https://irunner.biji.co/2026merida", "èªªæ˜": "", "å®˜ç¶²é€£çµ": "", "FBé€£çµ": ""}];

        // åˆ¤æ–·è³½äº‹é¡å‹
        function getEventTag(eventName) {
            if (eventName.includes('é›™å¡”') || eventName.includes('ä¸‰å¡”') || eventName.includes('å››æ¥µ') || eventName.includes('ä¸‰æ¥µ')) {
                return 'ultra';
            } else if (eventName.includes('æ­¦å¶º') || eventName.includes('å±±ç‹') || eventName.includes('å¤ªå¹³å±±') || eventName.includes('å¤§é›ªå±±') || eventName.includes('é˜¿é‡Œå±±')) {
                return 'climbing';
            } else if (eventName.includes('ç’°èŠ±æ±') || eventName.includes('ç’°å°') || eventName.includes('ç’°ç¸£')) {
                return 'touring';
            } else if (eventName.includes('å…¬è·¯è³½') || eventName.includes('ç¹åœˆè³½') || eventName.includes('è¨ˆæ™‚è³½')) {
                return 'race';
            } else if (eventName.includes('æŒ‘æˆ°') || eventName.includes('ç™¾K')) {
                return 'challenge';
            }
            return 'other';
        }

        // ä¸»è¾¦å–®ä½ç°¡ç¨±
        function getOrganizerShort(organizer) {
            if (organizer.includes('TWB') || organizer.includes('å°ç£è‡ªè¡Œè»Šå”æœƒ')) return 'TWB';
            if (organizer.includes('TBA') || organizer.includes('ä¸­è¯æ°‘åœ‹è‡ªè¡Œè»Šå”æœƒ')) return 'TBA';
            if (organizer.includes('é¨å£«å”æœƒ')) return 'TCF';
            if (organizer.includes('ç˜‹ç³»åˆ—')) return 'ç˜‹ç³»åˆ—';
            if (organizer.includes('NeverStop') || organizer.includes('æ°¸ä¸æ”¾æ£„') || organizer.includes('è‡ªç”±è»Šé‹å‹•å”æœƒ')) return 'NeverStop';
            if (organizer.includes('é›ªå·´')) return 'é›ªå·´';
            return organizer.length > 6 ? organizer.substring(0, 6) : organizer;
        }

        // æ¸²æŸ“è¡Œäº‹æ›†
        function renderCalendar(data) {
            const calendar = document.getElementById('calendar');
            calendar.innerHTML = '';

            // æŒ‰æœˆä»½åˆ†çµ„
            const eventsByMonth = {};

            data.forEach(event => {
                const dateStr = event['æ—¥æœŸ'] || '';
                let monthKey = 'å…¶ä»–';

                if (dateStr.startsWith('2026/')) {
                    const datePart = dateStr.split('-')[0];
                    try {
                        const parts = datePart.split('/');
                        if (parts.length >= 2) {
                            monthKey = `2026-${parts[1].padStart(2, '0')}`;
                        }
                    } catch (e) {
                        console.error('æ—¥æœŸè§£æéŒ¯èª¤:', dateStr);
                    }
                } else if (dateStr.match(/^\d{1,2}\/\d{1,2}$/)) {
                    const parts = dateStr.split('/');
                    monthKey = `2026-${parts[0].padStart(2, '0')}`;
                }

                if (!eventsByMonth[monthKey]) {
                    eventsByMonth[monthKey] = [];
                }
                eventsByMonth[monthKey].push(event);
            });

            // æœˆä»½åç¨±
            const monthNames = {
                '2026-01': '2026å¹´ 1æœˆ', '2026-02': '2026å¹´ 2æœˆ', '2026-03': '2026å¹´ 3æœˆ',
                '2026-04': '2026å¹´ 4æœˆ', '2026-05': '2026å¹´ 5æœˆ', '2026-06': '2026å¹´ 6æœˆ',
                '2026-07': '2026å¹´ 7æœˆ', '2026-08': '2026å¹´ 8æœˆ', '2026-09': '2026å¹´ 9æœˆ',
                '2026-10': '2026å¹´ 10æœˆ', '2026-11': '2026å¹´ 11æœˆ', '2026-12': '2026å¹´ 12æœˆ',
                'å…¶ä»–': 'å…¶ä»–è³½äº‹'
            };

            // æ’åºæœˆä»½
            const sortedMonths = Object.keys(eventsByMonth).sort();

            sortedMonths.forEach(month => {
                const events = eventsByMonth[month];
                const monthName = monthNames[month] || month;

                const monthSection = document.createElement('div');
                monthSection.className = 'month-section';

                const monthHeader = document.createElement('div');
                monthHeader.className = 'month-header';
                monthHeader.innerHTML = `
                    <span>${monthName}</span>
                    <span class="event-count">${events.length} å ´è³½äº‹</span>
                `;

                const eventsGrid = document.createElement('div');
                eventsGrid.className = 'events-grid';

                events.forEach(event => {
                    const eventType = getEventTag(event['è³½äº‹åç¨±'] || '');
                    const organizerShort = getOrganizerShort(event['ä¸»è¾¦å–®ä½'] || '');

                    // åˆ¤æ–·å ±åç‹€æ…‹
                    let statusClass = '';
                    let statusText = '';
                    const description = event['èªªæ˜'] || '';

                    if (description.includes('å ±åä¸­')) {
                        statusClass = 'status-open';
                        statusText = 'ğŸŸ¢ å ±åä¸­';
                    } else if (description.includes('å¾…é–‹æ”¾') || description.includes('å°šæœªå ±å')) {
                        statusClass = 'status-pending';
                        statusText = 'ğŸŸ¡ å¾…é–‹æ”¾';
                    } else if (description.includes('å ±åæˆªæ­¢') || description.includes('æˆªæ­¢')) {
                        statusClass = 'status-closed';
                        statusText = 'ğŸ”´ å·²æˆªæ­¢';
                    } else if (description.trim()) {
                        statusClass = 'status-pending';
                        statusText = `â„¹ï¸ ${description}`;
                    }

                    // è³½äº‹é€£çµ
                    let linkHtml = '';
                    const eventLink = event['è³½äº‹é€£çµ'] || '';
                    const officialLink = event['å®˜ç¶²é€£çµ'] || '';

                    if (eventLink.trim()) {
                        linkHtml = `<a href="${eventLink}" class="event-link" target="_blank">ğŸ“‹ æŸ¥çœ‹è©³æƒ…</a>`;
                    } else if (officialLink.trim()) {
                        linkHtml = `<a href="${officialLink}" class="event-link" target="_blank">ğŸŒ å®˜ç¶²</a>`;
                    } else {
                        linkHtml = '<span class="event-link disabled">æš«ç„¡é€£çµ</span>';
                    }

                    const eventCard = document.createElement('div');
                    eventCard.className = `event-card ${eventType}`;
                    eventCard.setAttribute('data-type', eventType);
                    eventCard.innerHTML = `
                        <div class="event-date">
                            <span class="date-badge">${event['æ—¥æœŸ'] || '-'}</span>
                            <span>${event['æ˜ŸæœŸ'] || ''}</span>
                        </div>
                        <div class="event-title">${event['è³½äº‹åç¨±'] || 'æœªå‘½åè³½äº‹'}</div>
                        <div class="event-meta">
                            <span class="meta-tag">ğŸ¢ ${organizerShort}</span>
                        </div>
                        ${statusText ? `<div class="event-status ${statusClass}">${statusText}</div>` : ''}
                        ${linkHtml}
                    `;

                    eventsGrid.appendChild(eventCard);
                });

                monthSection.appendChild(monthHeader);
                monthSection.appendChild(eventsGrid);
                calendar.appendChild(monthSection);
            });
        }

        // æ›´æ–°çµ±è¨ˆ
        function updateStats(data) {
            const totalEvents = data.length;
            const openEvents = data.filter(e => (e['èªªæ˜'] || '').includes('å ±åä¸­')).length;
            const upcomingEvents = data.filter(e => {
                const desc = e['èªªæ˜'] || '';
                return desc.includes('å¾…é–‹æ”¾') || desc.includes('å°šæœªå ±å');
            }).length;

            document.getElementById('totalEvents').textContent = totalEvents;
            document.getElementById('openEvents').textContent = openEvents;
            document.getElementById('upcomingEvents').textContent = upcomingEvents;
        }

        // ç¯©é¸åŠŸèƒ½
        function filterEvents(type) {
            const cards = document.querySelectorAll('.event-card');
            const buttons = document.querySelectorAll('.filter-btn');

            buttons.forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');

            cards.forEach(card => {
                if (type === 'all' || card.dataset.type === type) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }

        // é é¢è¼‰å…¥æ™‚æ¸²æŸ“
        window.addEventListener('DOMContentLoaded', () => {
            renderCalendar(eventsData);
            updateStats(eventsData);
        });
    </script>
</body>
</html>
